import{r,I as g,_ as m,u as v,a as x,j as e,B as h,c as _,b as p,f as w}from"./index-DWX9T_Sm.js";var f={icon:function(t,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 144H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm52-668H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z",fill:t}},{tag:"path",attrs:{d:"M212 212h200v200H212zm400 0h200v200H612zM212 612h200v200H212zm400 0h200v200H612z",fill:s}}]}},name:"appstore",theme:"twotone"},b=function(t,s){return r.createElement(g,m({},t,{ref:s,icon:f}))},z=r.forwardRef(b),k={icon:function(t,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M232 616h560V408H232v208zm112-144c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM232 888h560V680H232v208zm112-144c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM232 344h560V136H232v208zm112-144c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40z",fill:s}},{tag:"path",attrs:{d:"M304 512a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0-544a40 40 0 1080 0 40 40 0 10-80 0z",fill:t}},{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V680h560v208zm0-272H232V408h560v208zm0-272H232V136h560v208z",fill:t}}]}},name:"database",theme:"twotone"},j=function(t,s){return r.createElement(g,m({},t,{ref:s,icon:k}))},H=r.forwardRef(j);const F="_container_ugbwk_1",T="_error_ugbwk_17",V="_grid_ugbwk_23",N="_item_ugbwk_71",I="_title_ugbwk_81",M="_channel_ugbwk_99",y="_views_ugbwk_109",R="_img_ugbwk_119",S="_flex_ugbwk_127",$="_itemFlex_ugbwk_143",E="_titleFlex_ugbwk_155",A="_imgFlex_ugbwk_167",D="_channelFlex_ugbwk_175",a={container:F,error:T,grid:V,item:N,title:I,channel:M,views:y,img:R,flex:S,itemFlex:$,titleFlex:E,imgFlex:A,channelFlex:D},B="_panel_e90kx_1",C="_subString_e90kx_13",q="_icon_e90kx_19",G="_list_e90kx_27",P="_active_e90kx_27",J="_grid_e90kx_27",c={panel:B,subString:C,icon:q,list:G,active:P,grid:J},K=()=>{const{requestTotal:i,totalResults:t,display:s}=v(),o=x();return e.jsxs("div",{className:c.panel,children:[e.jsxs("p",{className:c.subString,children:['Видео по запросу "',i,'" ',t===1e6?`более ${t}`:t]}),e.jsxs("div",{className:c.icon,children:[e.jsx(h,{color:"primary",variant:"link",onClick:()=>o(_("list")),children:e.jsx(H,{className:s==="list"?c.active:c.list,style:{twoToneColor:"#1390e5"}})}),e.jsx(h,{color:"primary",variant:"link",onClick:()=>o(_("grid")),children:e.jsx(z,{className:s==="grid"?c.active:c.grid,style:{twoToneColor:"#1390e5"}})})]})]})},O=()=>{const i=x(),{data:{data:t}}=p(n=>n.list),{status:s,error:o,stats:d,number:u,display:l}=v();return r.useEffect(()=>{t.forEach(n=>{i(w(n.id.videoId))})},[t,i]),s==="loading"?e.jsx("div",{className:a.error,children:"...loading"}):s==="failed"?e.jsxs("div",{children:["УПС... что-то пошло не так: ",o.message]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{}),e.jsx("ul",{className:l==="grid"?a.grid:a.flex,children:t.slice(0,u).map(n=>e.jsxs("li",{className:l==="grid"?a.item:a.itemFlex,children:[e.jsx("div",{children:e.jsx("a",{href:`https://www.youtube.com/watch?v=${n.id.videoId}&t=1s`,children:e.jsx("img",{src:n.snippet.thumbnails.high.url,alt:n.snippet.title,className:l==="grid"?a.img:a.imgFlex})})}),e.jsxs("div",{children:[e.jsx("p",{className:l==="grid"?a.title:a.titleFlex,children:n.snippet.title}),e.jsx("p",{className:l==="grid"?a.channel:a.channelFlex,children:n.snippet.channelTitle}),d[n.id.videoId]&&e.jsxs("p",{className:a.views,children:["Просмотры: ",d[n.id.videoId].viewCount]})]})]},n.id.videoId||n.id))})]})};export{O as default};
