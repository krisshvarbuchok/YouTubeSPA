import{r,I as _,_ as m,u as v,a as x,j as e,B as d,c as u,b as g,f}from"./index-2rqv-Umt.js";var z={icon:function(t,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 144H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm52-668H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z",fill:t}},{tag:"path",attrs:{d:"M212 212h200v200H212zm400 0h200v200H612zM212 612h200v200H212zm400 0h200v200H612z",fill:s}}]}},name:"appstore",theme:"twotone"},w=function(t,s){return r.createElement(_,m({},t,{ref:s,icon:z}))},j=r.forwardRef(w),H={icon:function(t,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M232 616h560V408H232v208zm112-144c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM232 888h560V680H232v208zm112-144c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM232 344h560V136H232v208zm112-144c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40z",fill:s}},{tag:"path",attrs:{d:"M304 512a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0-544a40 40 0 1080 0 40 40 0 10-80 0z",fill:t}},{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V680h560v208zm0-272H232V408h560v208zm0-272H232V136h560v208z",fill:t}}]}},name:"database",theme:"twotone"},F=function(t,s){return r.createElement(_,m({},t,{ref:s,icon:H}))},T=r.forwardRef(F);const V="_container_ih7uu_1",b="_error_ih7uu_17",N="_grid_ih7uu_23",k="_item_ih7uu_71",I="_title_ih7uu_81",M="_channel_ih7uu_101",y="_views_ih7uu_111",R="_img_ih7uu_121",S="_flex_ih7uu_129",$="_itemFlex_ih7uu_145",E="_titleFlex_ih7uu_157",A="_imgFlex_ih7uu_169",D="_channelFlex_ih7uu_177",n={container:V,error:b,grid:N,item:k,title:I,channel:M,views:y,img:R,flex:S,itemFlex:$,titleFlex:E,imgFlex:A,channelFlex:D},B="_panel_e90kx_1",C="_subString_e90kx_13",q="_icon_e90kx_19",G="_list_e90kx_27",P="_active_e90kx_27",J="_grid_e90kx_27",c={panel:B,subString:C,icon:q,list:G,active:P,grid:J},K=()=>{const{requestTotal:a,totalResults:t,display:s}=v(),o=x();return e.jsxs("div",{className:c.panel,children:[e.jsxs("p",{className:c.subString,children:['Видео по запросу "',a,'" ',t===1e6?`более ${t}`:t]}),e.jsxs("div",{className:c.icon,children:[e.jsx(d,{color:"primary",variant:"link",onClick:()=>o(u("list")),children:e.jsx(T,{className:s==="list"?c.active:c.list,style:{twoToneColor:"#1390e5"}})}),e.jsx(d,{color:"primary",variant:"link",onClick:()=>o(u("grid")),children:e.jsx(j,{className:s==="grid"?c.active:c.grid,style:{twoToneColor:"#1390e5"}})})]})]})},O=()=>{const a=x(),{data:{data:t}}=g(i=>i.list),{status:s,error:o,stats:h,number:p,display:l}=v();return r.useEffect(()=>{t.forEach(i=>{a(f(i.id.videoId))})},[t,a]),s==="loading"?e.jsx("div",{className:n.error,children:"...loading"}):s==="failed"?e.jsxs("div",{children:["УПС... что-то пошло не так: ",o.message]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{}),e.jsx("ul",{className:l==="grid"?n.grid:n.flex,children:t.slice(0,p).map(i=>e.jsxs("li",{className:l==="grid"?n.item:n.itemFlex,children:[e.jsx("div",{children:e.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id.videoId}&t=1s`,children:e.jsx("img",{src:i.snippet.thumbnails.high.url,alt:i.snippet.title,className:l==="grid"?n.img:n.imgFlex})})}),e.jsxs("div",{children:[e.jsx("p",{className:l==="grid"?n.title:n.titleFlex,children:i.snippet.title}),e.jsx("p",{className:l==="grid"?n.channel:n.channelFlex,children:i.snippet.channelTitle}),h[i.id.videoId]&&e.jsxs("p",{className:n.views,children:["Просмотры: ",h[i.id.videoId].viewCount]})]})]},i.id.videoId||i.id))})]})};export{O as default};
